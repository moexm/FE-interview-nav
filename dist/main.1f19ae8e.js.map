{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","xObject","JSON","parse","localStorage","getItem","hashmap","logo","logoType","link","removeX","url","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","console","log","stopPropagation","splice","prompt","indexOf","push","onbeforeunload","string","stringify","setItem"],"mappings":"AAAA,IAAMA,SAAS,GAAGC,CAAC,CAAC,WAAD,CAAnB;AACA,IAAMC,OAAO,GAAGF,SAAS,CAACG,IAAV,CAAe,SAAf,CAAhB;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,GAArB,CAAX,CAAhB;AACA,IAAMC,OAAO,GAAGL,OAAO,IAAI,CACvB;AAAEM,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,QAAQ,EAAE,KAAvB;AAA8BC,EAAAA,IAAI,EAAE;AAApC,CADuB,EAEvB;AAAEF,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,QAAQ,EAAE,KAAvB;AAA8BC,EAAAA,IAAI,EAAE;AAApC,CAFuB,CAA3B,EAKA;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAS;AACrB,SAAOA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACFA,OADE,CACM,SADN,EACiB,EADjB,EAEFA,OAFE,CAEM,MAFN,EAEc,EAFd,EAGFA,OAHE,CAGM,MAHN,EAGc,EAHd,CAAP;AAIH,CALD;;AAQA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAEjBhB,EAAAA,SAAS,CAACG,IAAV,CAAe,eAAf,EAAgCc,MAAhC;AACAR,EAAAA,OAAO,CAACS,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC7B,QAAMC,GAAG,GAAGpB,CAAC,iFAC2BkB,IAAI,CAACT,IADhC,sEAE4BG,OAAO,CAACM,IAAI,CAACP,IAAN,CAFnC,sSAAb;AASAS,IAAAA,GAAG,CAACC,YAAJ,CAAiBpB,OAAjB,EAV6B,CAY7B;;AACAmB,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgB,YAAM;AAClBC,MAAAA,MAAM,CAACC,IAAP,CAAYN,IAAI,CAACP,IAAjB;AACH,KAFD;AAGAS,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACG,CAAD,EAAO;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAK,GAAG,MAApB;AACAM,MAAAA,CAAC,CAACG,eAAF;AACApB,MAAAA,OAAO,CAACqB,MAAR,CAAeV,KAAf,EAAsB,CAAtB;AACAJ,MAAAA,MAAM;AACT,KALD;AAOH,GAvBD;AAwBH,CA3BD;;AA6BAA,MAAM;AAENf,CAAC,CAAC,YAAD,CAAD,CAAgBsB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAC9B,MAAIT,GAAG,GAAGU,MAAM,CAACO,MAAP,CAAc,YAAd,CAAV;;AAEA,MAAIjB,GAAG,CAACkB,OAAJ,CAAY,MAAZ,MAAwB,CAA5B,EAA+B;AAC3BlB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACH;;AAEDL,EAAAA,OAAO,CAACwB,IAAR,CAAa;AACTvB,IAAAA,IAAI,EAAEG,OAAO,CAACC,GAAD,CAAP,CAAa,CAAb,CADG;AAETH,IAAAA,QAAQ,EAAE,KAFD;AAGTC,IAAAA,IAAI,EAAEE;AAHG,GAAb;AAKAE,EAAAA,MAAM;AACT,CAbD;;AAiBAQ,MAAM,CAACU,cAAP,GAAwB,YAAM;AAC1BP,EAAAA,OAAO,CAACC,GAAR,CAAYnB,OAAZ;AACA,MAAM0B,MAAM,GAAG9B,IAAI,CAAC+B,SAAL,CAAe3B,OAAf,CAAf;AACAF,EAAAA,YAAY,CAAC8B,OAAb,CAAqB,GAArB,EAA0BF,MAA1B;AAEH,CALD","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi = $siteList.find('li.last');\nconst xObject = JSON.parse(localStorage.getItem('x'));\nconst hashmap = xObject || [\n    { logo: 'a', logoType: 'url', link: 'https://www.acfun.cn' },\n    { logo: 'b', logoType: 'img', link: 'http://bilibili.com' },\n]\n\n//简化URL\nconst removeX = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '')\n}\n\n\nconst render = () => {\n\n    $siteList.find('li:not(.last)').remove();\n    hashmap.forEach((node, index) => {\n        const $li = $(` <li class=\"site\">\n                            <div class=\"logo\">${node.logo}</div>\n                            <div class=\"link\"> ${removeX(node.link)}</div>\n                            <div class=\"close\"> \n                                <svg class=\"icon\" >\n                                <use xlink:href=\"#icon-close\"></use>\n                                </svg>\n                            </div>\n                    </li>`)\n        $li.insertBefore($lastLi)\n\n        // 代替<a>标签, 有问题\n        $li.on('click', () => {\n            window.open(node.link);\n        })\n        $li.on('click', '.close', (e) => {\n            console.log(index + 'stop')\n            e.stopPropagation();\n            hashmap.splice(index, 1);\n            render();\n        })\n\n    })\n}\n\nrender();\n\n$('.addButton').on('click', () => {\n    let url = window.prompt('请问你要添加什么网站');\n\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url;\n    }\n\n    hashmap.push({\n        logo: removeX(url)[0],\n        logoType: \"url\",\n        link: url\n    })\n    render();\n})\n\n\n\nwindow.onbeforeunload = () => {\n    console.log(hashmap)\n    const string = JSON.stringify(hashmap)\n    localStorage.setItem('x', string)\n\n}\n\n"]}